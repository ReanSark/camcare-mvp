[
  {
    "name": "UserRoles",
    "attributes": [
      {
        "key": "userId",
        "type": "string",
        "required": true
      },
      {
        "key": "role",
        "type": "enum",
        "elements": [
          "Receptionist",
          "Doctor",
          "Nurse",
          "Pharmacist",
          "Inventory",
          "Admin"
        ],
        "required": true
      }
    ]
  },
  {
    "name": "Patients",
    "attributes": [
      {
        "key": "fullName",
        "type": "string",
        "required": true
      },
      {
        "key": "gender",
        "type": "enum",
        "elements": [
          "Male",
          "Female",
          "Other"
        ],
        "required": true
      },
      {
        "key": "dob",
        "type": "date",
        "required": true
      },
      {
        "key": "phone",
        "type": "string"
      },
      {
        "key": "email",
        "type": "string"
      },
      {
        "key": "address",
        "type": "string"
      },
      {
        "key": "bloodType",
        "type": "string"
      },
      {
        "key": "emergencyContact",
        "type": "string"
      },
      {
        "key": "medicalHistory",
        "type": "text"
      },
      {
        "key": "isReturning",
        "type": "boolean"
      },
      {
        "key": "visitHistory",
        "type": "string[]"
      },
      {
        "key": "referredByDoctorId",
        "type": "string"
      },
      {
        "key": "referredByHospitalName",
        "type": "string"
      },
      {
        "key": "referralCommissionAmount",
        "type": "float"
      },
      {
        "key": "hospitalCommissionAmount",
        "type": "float"
      },
      {
        "key": "referralNote",
        "type": "string"
      }
    ]
  },
  {
    "name": "Appointments",
    "attributes": [
      {
        "key": "patientId",
        "type": "string",
        "required": true
      },
      {
        "key": "doctorIds",
        "type": "string[]"
      },
      {
        "key": "nurseIds",
        "type": "string[]"
      },
      {
        "key": "date",
        "type": "datetime"
      },
      {
        "key": "reason",
        "type": "text"
      },
      {
        "key": "status",
        "type": "enum",
        "elements": [
          "scheduled",
          "completed",
          "canceled"
        ]
      }
    ]
  },
  {
    "name": "Admissions",
    "attributes": [
      {
        "key": "patientId",
        "type": "string",
        "required": true
      },
      {
        "key": "doctorIds",
        "type": "string[]"
      },
      {
        "key": "nurseIds",
        "type": "string[]"
      },
      {
        "key": "roomId",
        "type": "string"
      },
      {
        "key": "admissionDate",
        "type": "datetime"
      },
      {
        "key": "dischargeDate",
        "type": "datetime"
      },
      {
        "key": "notes",
        "type": "text"
      }
    ]
  },
  {
    "name": "Rooms",
    "attributes": [
      {
        "key": "roomNumber",
        "type": "string"
      },
      {
        "key": "type",
        "type": "string"
      },
      {
        "key": "status",
        "type": "enum",
        "elements": [
          "available",
          "occupied",
          "maintenance"
        ]
      },
      {
        "key": "currentPatientId",
        "type": "string"
      },
      {
        "key": "usageHistory",
        "type": "string[]"
      }
    ]
  },
  {
    "name": "Diagnoses",
    "attributes": [
      {
        "key": "patientId",
        "type": "string"
      },
      {
        "key": "doctorId",
        "type": "string"
      },
      {
        "key": "appointmentId",
        "type": "string"
      },
      {
        "key": "diagnosis",
        "type": "text"
      },
      {
        "key": "date",
        "type": "datetime"
      }
    ]
  },
  {
    "name": "Prescriptions",
    "attributes": [
      {
        "key": "patientId",
        "type": "string"
      },
      {
        "key": "doctorId",
        "type": "string"
      },
      {
        "key": "diagnosisId",
        "type": "string"
      },
      {
        "key": "medicines",
        "type": "string[]"
      },
      {
        "key": "dosageInstructions",
        "type": "text"
      },
      {
        "key": "issuedDate",
        "type": "datetime"
      }
    ]
  },
  {
    "name": "Invoices",
    "attributes": [
      {
        "key": "patientId",
        "type": "string"
      },
      {
        "key": "groupInvoiceId",
        "type": "string"
      },
      {
        "key": "createdBy",
        "type": "string"
      },
      {
        "key": "items",
        "type": "string[]"
      },
      {
        "key": "totalAmount",
        "type": "float"
      },
      {
        "key": "status",
        "type": "enum",
        "elements": [
          "paid",
          "unpaid",
          "partial"
        ]
      },
      {
        "key": "dateIssued",
        "type": "datetime"
      }
    ]
  },
  {
    "name": "GroupInvoices",
    "attributes": [
      {
        "key": "patientId",
        "type": "string"
      },
      {
        "key": "admissionId",
        "type": "string"
      },
      {
        "key": "invoiceIds",
        "type": "string[]"
      },
      {
        "key": "total",
        "type": "float"
      },
      {
        "key": "status",
        "type": "enum",
        "elements": [
          "paid",
          "unpaid"
        ]
      }
    ]
  },
  {
    "name": "LabResults",
    "attributes": [
      {
        "key": "patientId",
        "type": "string"
      },
      {
        "key": "requestedBy",
        "type": "string"
      },
      {
        "key": "diagnosisId",
        "type": "string"
      },
      {
        "key": "testName",
        "type": "string"
      },
      {
        "key": "results",
        "type": "text"
      },
      {
        "key": "date",
        "type": "datetime"
      }
    ]
  },
  {
    "name": "InventoryItems",
    "attributes": [
      {
        "key": "name",
        "type": "string"
      },
      {
        "key": "category",
        "type": "enum",
        "elements": [
          "medicine",
          "equipment",
          "supply"
        ]
      },
      {
        "key": "quantity",
        "type": "integer"
      },
      {
        "key": "reorderLevel",
        "type": "integer"
      },
      {
        "key": "lastUpdated",
        "type": "datetime"
      }
    ]
  },
  {
    "name": "ServiceList",
    "attributes": [
      {
        "key": "name",
        "type": "string"
      },
      {
        "key": "name_kh",
        "type": "string"
      },
      {
        "key": "description",
        "type": "text"
      },
      {
        "key": "description_kh",
        "type": "text"
      },
      {
        "key": "basePrice",
        "type": "float"
      },
      {
        "key": "category",
        "type": "string"
      }
    ]
  },
  {
    "name": "PackageDeals",
    "attributes": [
      {
        "key": "name",
        "type": "string"
      },
      {
        "key": "description",
        "type": "text"
      },
      {
        "key": "serviceIds",
        "type": "string[]"
      },
      {
        "key": "discountPercent",
        "type": "float"
      },
      {
        "key": "finalPrice",
        "type": "float"
      }
    ]
  },
  {
    "name": "FinanceList",
    "attributes": [
      {
        "key": "type",
        "type": "enum",
        "elements": [
          "income",
          "expense",
          "referral-doctor",
          "referral-hospital"
        ]
      },
      {
        "key": "source",
        "type": "string"
      },
      {
        "key": "amount",
        "type": "float"
      },
      {
        "key": "date",
        "type": "datetime"
      },
      {
        "key": "note",
        "type": "text"
      },
      {
        "key": "relatedUserId",
        "type": "string"
      }
    ]
  },
  {
    "name": "Earnings",
    "attributes": [
      {
        "key": "userId",
        "type": "string"
      },
      {
        "key": "type",
        "type": "enum",
        "elements": [
          "appointment",
          "admission"
        ]
      },
      {
        "key": "relatedId",
        "type": "string"
      },
      {
        "key": "amount",
        "type": "float"
      },
      {
        "key": "date",
        "type": "datetime"
      }
    ]
  },
  {
    "name": "ActivityLogs",
    "attributes": [
      {
        "key": "actionType",
        "type": "enum",
        "elements": [
          "create",
          "update",
          "delete",
          "login",
          "logout"
        ]
      },
      {
        "key": "collectionName",
        "type": "string"
      },
      {
        "key": "documentId",
        "type": "string"
      },
      {
        "key": "performedBy",
        "type": "string"
      },
      {
        "key": "timestamp",
        "type": "datetime"
      },
      {
        "key": "details",
        "type": "text"
      }
    ]
  },
  {
    "name": "MonthlyReports",
    "attributes": [
      {
        "key": "month",
        "type": "string"
      },
      {
        "key": "totalPatients",
        "type": "integer"
      },
      {
        "key": "totalIncome",
        "type": "float"
      },
      {
        "key": "totalExpense",
        "type": "float"
      },
      {
        "key": "mostCommonDiagnosis",
        "type": "string"
      },
      {
        "key": "topEarningDoctorId",
        "type": "string"
      }
    ]
  },
  {
    "name": "PatientConsents",
    "attributes": [
      {
        "key": "patientId",
        "type": "string"
      },
      {
        "key": "type",
        "type": "enum",
        "elements": [
          "general",
          "surgery",
          "data-usage"
        ]
      },
      {
        "key": "signedAt",
        "type": "datetime"
      },
      {
        "key": "documentUrl",
        "type": "string"
      }
    ]
  },
  {
    "name": "Notifications",
    "attributes": [
      {
        "key": "recipientRole",
        "type": "string"
      },
      {
        "key": "recipientUserId",
        "type": "string"
      },
      {
        "key": "message",
        "type": "text"
      },
      {
        "key": "relatedCollection",
        "type": "string"
      },
      {
        "key": "relatedDocumentId",
        "type": "string"
      },
      {
        "key": "status",
        "type": "enum",
        "elements": [
          "read",
          "unread"
        ]
      },
      {
        "key": "createdAt",
        "type": "datetime"
      }
    ]
  },
  {
    "name": "AI_AnalyticsLogs",
    "attributes": [
      {
        "key": "patientId",
        "type": "string"
      },
      {
        "key": "visitsPerMonth",
        "type": "integer"
      },
      {
        "key": "frequentSymptoms",
        "type": "string[]"
      },
      {
        "key": "averageStayDays",
        "type": "float"
      },
      {
        "key": "readmissionRiskScore",
        "type": "float"
      },
      {
        "key": "updatedAt",
        "type": "datetime"
      }
    ]
  }
]